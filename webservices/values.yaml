# The Webservices Helm Chart Values helps cater your needs
# to any backend app in a given platform.
#
# Any type of database you need, will be propogated when enabled
# and the environment variable to access will be made available 
# to the app and worker services
#
# by default, no repo is specified, and only the app service is enabled for 
# deployment. Please ensure you setup the values as documented in this chart.
container_registry: ""

app_config:
  # service name autogenerated as: <appname>-app
  # env: APP_HOST: <appname>-app:<port>
  enabled: true
  replicaCount: 1
  image:
    repository: ""
    pullPolicy: Always
    # Overrides the image tag whose default is the chart appVersion.
    tag: ""
    port: 8080
  service:
    type: ClusterIP
    port: 8080

worker_config:
  # service name autogenerated as: <appname>-worker
  # env: WORKER_HOST: <appname>-worker:<port>
  enabled: false
  replicaCount: 1
  image:
    repository: ""
    pullPolicy: Always
    # Overrides the image tag whose default is the chart appVersion.
    tag: ""
    port: 8080
    entrypoint: ./worker.sh

postgres_config:
  # service name autogenerated as: <appname>-postgres
  # env: POSTGRES_HOST: <appname>-postgres:<port>
  enabled: false
  pvc: true
  setup:
    username: postgres
    password: postgres
  image: postgres:latest
  service:
    enabled: false
    type: ClusterIP
    port: 5432

mongo_config:
  # service name autogenerated as: <appname>-mongo
  # env: MONGO_HOST: <appname>-mongo:<port>
  enabled: false
  pvc: true
  service:
    enabled: false
    type: ClusterIP
    port: 27017

redis_config:
  # service name autogenerated as: <appname>-redis
  # env: REDIS_HOST: <appname>-redis:<port>
  enabled: false
  pvc: true
  service:
    enabled: false
    type: ClusterIP
    port: 6379

secrets:
  # name autogenerated as: <appname>-secrets
  enabled: true
  values:
    DATABASE_HOST: postgres
    DATABASE_NAME: postgres
    DATABASE_PASSWORD: password
    DATABASE_USERNAME: postgres

configmap:
  # service name autogenerated as: <appname>-configmap
  enabled: true
  values:
    DJANGO_DEBUG: False
    LOG_LEVEL: "ERROR"
